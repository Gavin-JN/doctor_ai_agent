# 硅谷小智 - 北京协和医院智能客服前端

这是一个与"硅谷小智"智能客服系统交互的前端页面，专为北京协和医院设计。

## 功能特性

### 🤖 智能对话

- 流式响应显示，实时展示 AI 回复
- 支持医疗咨询、健康建议等专业服务
- 友好的用户界面和交互体验

### 🏥 医疗功能

- **AI 分导诊**: 根据病情智能推荐科室
- **智能挂号**: 预约挂号、取消挂号、查询挂号
- **就医指导**: 提供详细的就医流程说明
- **医疗咨询**: 专业的医疗建议和健康指导

### 💡 用户体验

- 响应式设计，支持手机和电脑访问
- 快速操作按钮，常用功能一键直达
- 打字指示器，提升交互体验
- 美观的渐变色彩和现代化 UI

## 环境要求

- **Node.js**: 14.0.0 或更高版本
- **npm**: 6.0.0 或更高版本
- **现代浏览器**: 支持 ES6+的浏览器

## 快速开始

### 方法一：使用 npm 命令（推荐）

```bash
# 1. 安装依赖
npm install

# 2. 启动开发服务器
npm run dev
```

### 方法二：一键启动

```bash
# 自动检查环境并启动
node start.js
```

### 方法三：传统方式

```bash
# 直接打开HTML文件
# 或使用Python服务器
python -m http.server 8000

# 或使用Node.js服务器
npx http-server
```

## 配置说明

### 1. 配置后端 API

在 `config.js` 文件中修改 API 地址：

```javascript
const CONFIG = {
  API_BASE_URL: "http://localhost:8080", // 修改为您的后端服务地址
  // ... 其他配置
};
```

### 2. 开始使用

1. 运行 `npm run dev` 启动服务
2. 打开浏览器访问 `http://localhost:3000`
3. 系统会自动发送欢迎消息
4. 在输入框中输入问题或使用快速操作按钮
5. 等待 AI 回复

## 可用命令

```bash
# 开发模式（支持热重载）
npm run dev

# 生产模式
npm start

# 安装依赖
npm install

# 使用http-server
npm run serve
```

## 技术实现

### 前端技术

- **HTML5**: 页面结构
- **CSS3**: 样式和动画效果
- **JavaScript**: 交互逻辑和 API 调用
- **Fetch API**: 与后端通信
- **Stream API**: 处理流式响应

### 核心功能

- **流式响应处理**: 实时显示 AI 回复内容
- **消息管理**: 用户和 AI 消息的显示和管理
- **错误处理**: 网络错误和异常情况的处理
- **会话管理**: 使用 memoryId 维护对话上下文

## 文件结构

```
├── index.html          # 主页面文件
├── config.js           # 配置文件
├── server.js           # Express开发服务器
├── start.js            # 一键启动脚本
├── package.json        # npm配置文件
├── nodemon.json        # 热重载配置
└── README.md           # 说明文档
```

## 配置说明

### API 配置

- `API_BASE_URL`: 后端服务地址
- `CHAT_ENDPOINT`: 聊天接口路径

### 功能配置

- `AUTO_WELCOME`: 是否自动发送欢迎消息
- `TYPING_INDICATOR`: 是否显示打字指示器
- `QUICK_ACTIONS`: 是否显示快速操作按钮
- `MEDICAL_INFO`: 是否显示医疗信息提示

### 快速操作

可以自定义快速操作按钮，在 `config.js` 中修改 `QUICK_ACTIONS` 数组。

## 注意事项

1. **跨域问题**: 如果遇到跨域问题，需要在后端配置 CORS
2. **HTTPS**: 生产环境建议使用 HTTPS
3. **浏览器兼容性**: 需要支持 ES6+的现代浏览器
4. **网络连接**: 确保能够访问后端 API 服务

## 自定义样式

可以通过修改 CSS 变量来自定义主题色彩：

```css
:root {
  --primary-color: #4facfe;
  --secondary-color: #00f2fe;
  --gradient-start: #667eea;
  --gradient-end: #764ba2;
}
```

## 故障排除

### 常见问题

1. **无法连接后端**: 检查 API 地址配置和网络连接
2. **消息不显示**: 检查浏览器控制台错误信息
3. **样式异常**: 确保 CSS 文件正确加载

### 调试方法

1. 打开浏览器开发者工具
2. 查看 Console 面板的错误信息
3. 检查 Network 面板的 API 请求状态
4. 确认后端服务正常运行

## 更新日志

- v1.0.0: 初始版本，支持基本的聊天功能和医疗咨询
